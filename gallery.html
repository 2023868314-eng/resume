<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Gallery</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Poppins&display=swap" rel="stylesheet">
<link rel="stylesheet" href="style.css">

<style>
body {
    background-image: url("background 4.jpg");
    background-size: cover;
    background-position: center;
    background-repeat: repeat;
    margin: 0;
}

/* ===== IMAGE POPUP ===== */
#image-popup {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.8);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 9999;
}

#image-popup img {
    max-width: 80%;
    max-height: 80%;
    border-radius: 20px;
    box-shadow: 0 0 50px rgba(230,160,255,0.9);
}
</style>
</head>

<body class="gallery-page">
<!-- DARK MODE BACKGROUND VIDEO -->
<div class="bg-video">
    <video autoplay muted loop playsinline>
        <source src="dark bg.mp4" type="video/mp4">
    </video>
</div>

<nav>
  <h1>KUKKIZZ'S PAGE</h1>
  <div>
    <button class="dark-toggle" onclick="toggleDark()">üåô</button>
  <a href="index.html">Home</a> 
<a href="about.html">About Me</a> 
<a href="experience.html">Experience</a> 
<a href="gallery.html">Gallery</a> 
  </div>
</nav>

<marquee class="page-marquee gallery-marquee">
 („Å£‚óî‚ó°‚óî)„Å£ ‚ô• welcome to Dunia Wanita Cantik ‚ô•  („Å£‚óî‚ó°‚óî)„Å£ ‚ô• welcome to Dunia Wanita Cantik ‚ô•   („Å£‚óî‚ó°‚óî)„Å£ ‚ô• welcome to Dunia Wanita Cantik ‚ô•
</marquee>

<!-- ===== GALLERY SECTION ===== -->
<section class="frame-gallery">
  <h2>My Gallery</h2>

  <h2>Loml <3</h2>
  <div class="frame-grid">
    <img src="family 1.jpg">
    <img src="family 2.jpg">
    <img src="fam 13.jpg">
    <img src="fam 7.jpg">
  <img src="fam 6.jpg">
    <img src="fam 11.jpg">
    <img src="fam 5.jpg">
    <img src="fam 9.jpg">
    <img src="fam 12.jpg">
    <img src="fam 8.jpg">
  <img src="fam 4.jpg">
 <img src="fam 14.jpg">
    <img src="fam 10.jpg">
    <img src="fam 15.jpg">
  <img src="fam 11.jpg">
 <img src="fam 3.jpg">
 
  
  
  </div>
</section>

<section class="frame-gallery">
  <h2>Dip‚Äôs Life</h2>
  <div class="frame-grid">
       <img src="dip 6.jpg">
    <img src="dip 7.jpg">
    <img src="dip 1.jpg">
    <img src="dip 3.jpg">
  <img src="dip 2.jpg">
    <img src="dip 11.jpg">
    <img src="dip 5.jpg">
    <img src="dip 8.jpg">
    <img src="dip 10.jpg">
    <img src="dip 4.jpg">
  <img src="dip 9.jpg">
 <img src="dip 12.jpg">
  </div>
</section>


<!-- ===== IMAGE POPUP ===== -->
<div id="image-popup">
    <img id="popup-img">
</div>

<footer>
  ¬© 2025 Kukkizz | IMD318
</footer>

<script>
const images = document.querySelectorAll('.frame-grid img');
const popup = document.getElementById('image-popup');
const popupImg = document.getElementById('popup-img');

let currentIndex = 0;
let startX = 0;

/* ===== OPEN IMAGE ===== */
images.forEach((img, index) => {
    img.addEventListener('click', () => {
        currentIndex = index;
        popupImg.src = img.src;
        popup.style.display = 'flex';

        setTimeout(() => {
            popup.classList.add('show');
        }, 10);
    });
});

/* ===== CLOSE POPUP ===== */
popup.addEventListener('click', () => {
    popup.classList.remove('show');

    setTimeout(() => {
        popup.style.display = 'none';
    }, 300);
});

/* ===== SWIPE TOUCH START ===== */
popup.addEventListener('touchstart', e => {
    startX = e.touches[0].clientX;
});

/* ===== SWIPE TOUCH END ===== */
popup.addEventListener('touchend', e => {
    let endX = e.changedTouches[0].clientX;

    if (startX - endX > 50) nextImage();
    if (endX - startX > 50) prevImage();
});

/* ===== DESKTOP SWIPE (TRACKPAD / MOUSE) ===== */
popup.addEventListener('mousedown', e => {
    startX = e.clientX;
});

popup.addEventListener('mouseup', e => {
    let endX = e.clientX;

    if (startX - endX > 50) nextImage();
    if (endX - startX > 50) prevImage();
});

/* ===== NEXT IMAGE ===== */
function nextImage() {
    currentIndex = (currentIndex + 1) % images.length;
    popupImg.src = images[currentIndex].src;
}

/* ===== PREVIOUS IMAGE ===== */
function prevImage() {
    currentIndex = (currentIndex - 1 + images.length) % images.length;
    popupImg.src = images[currentIndex].src;
}
</script>

<!-- ===== DARK MODE ===== -->
<script>
const toggleBtn = document.querySelector(".dark-toggle");
const clickSound = new Audio("sound 2.mp3");

function toggleDark() {
    document.body.classList.toggle("dark");

    clickSound.currentTime = 0;
    clickSound.play();

    if (document.body.classList.contains("dark")) {
        localStorage.setItem("theme", "dark");
        toggleBtn.textContent = "‚òÄÔ∏è";
    } else {
        localStorage.setItem("theme", "light");
        toggleBtn.textContent = "üåô";
    }
}

window.onload = function () {
    if (localStorage.getItem("theme") === "dark") {
        document.body.classList.add("dark");
        toggleBtn.textContent = "‚òÄÔ∏è";
    }
};
</script>

<script>
const videoSource = document.querySelector(".bg-video video source");
const video = document.querySelector(".bg-video video");
const body = document.body;

function updateDarkVideo() {
    if (!body.classList.contains("dark")) return;

    if (body.classList.contains("home-page")) {
        videoSource.src = "videos/home-dark.mp4";
    } else if (body.classList.contains("about-page")) {
        videoSource.src = "videos/about-dark.mp4";
    } else if (body.classList.contains("experience-page")) {
        videoSource.src = "videos/experience-dark.mp4";
    } else if (body.classList.contains("gallery-page")) {
        videoSource.src = "videos/gallery-dark.mp4";
    }

    video.load();
}
</script>

<!-- ===== BACKGROUND SOUND BUTTON ===== -->
<button id="music-btn">üéµ</button>

<!-- ===== MUSIC POPUP ===== -->
<div id="music-popup">
    <div class="music-card" onclick="playSong('bg sound 1.mp3')">
        <p>Finding Peace</p><span>Kainbeats</span>
    </div>
    <div class="music-card" onclick="playSong('bg sound 2.mp3')">
        <p>Chill Hip Hop Beat</p><span>Lofi</span>
    </div>
    <div class="music-card" onclick="playSong('bg sound 3.mp3')">
        <p> The Cutest Bunny</p><span>PupClub</span>
    </div>
</div>
<audio id="bg-music" loop></audio>

<script>
const btn = document.getElementById("music-btn");
const musicPopup = document.getElementById("music-popup");
const audio = document.getElementById("bg-music");

btn.onclick = () => {
    musicPopup.style.display =
        musicPopup.style.display === "flex" ? "none" : "flex";
};


</script>
<script>
const bgMusic = document.getElementById("bg-music");

/* ===== LOAD SAVED MUSIC ===== */
window.addEventListener("load", () => {
    const savedSrc = localStorage.getItem("bgMusicSrc");
    const savedTime = localStorage.getItem("bgMusicTime");
    const wasPlaying = localStorage.getItem("bgMusicPlaying");

    if (savedSrc) {
        bgMusic.src = savedSrc;
        bgMusic.currentTime = savedTime ? parseFloat(savedTime) : 0;

        if (wasPlaying === "true") {
            bgMusic.play().catch(() => {});
        }
    }
});

/* ===== SAVE TIME ===== */
setInterval(() => {
    if (!bgMusic.paused) {
        localStorage.setItem("bgMusicTime", bgMusic.currentTime);
    }
}, 1000);

/* ===== PLAY SONG (OVERRIDE) ===== */
function playSong(src) {
    bgMusic.src = src;
    bgMusic.play();

    localStorage.setItem("bgMusicSrc", src);
    localStorage.setItem("bgMusicPlaying", "true");
}

/* ===== SAVE WHEN LEAVE PAGE ===== */
window.addEventListener("beforeunload", () => {
    localStorage.setItem("bgMusicTime", bgMusic.currentTime);
    localStorage.setItem("bgMusicPlaying", !bgMusic.paused);
});
</script>


</body>
</html>
